apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
bases:
  - ../../../base

namespace: argocd

patchesStrategicMerge:
  - secret.yaml
  - deployment.yaml

commonLabels:
  env: app4

commonAnnotations:
  version: 1.4.1

namePrefix:
  app4-

nameSuffix:
  -v1

configurations:
  - configuration/sealed-secret-config.yaml
  
secretGenerator:
  - name: app4-mysecret-v1
    type: Opaque

images:
  - name: nginx
    newName: nginx
    newTag: latest